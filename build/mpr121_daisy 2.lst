ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 4
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"mpr121_daisy.cpp"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text._ZN14thaumazein_hal6Mpr12113ReadRegister8Eh,"ax",%progbits
  19              		.align	1
  20              		.global	_ZN14thaumazein_hal6Mpr12113ReadRegister8Eh
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	_ZN14thaumazein_hal6Mpr12113ReadRegister8Eh:
  26              	.LVL0:
  27              	.LFB2666:
  28              		.file 1 "mpr121_daisy.cpp"
   1:mpr121_daisy.cpp **** #include "mpr121_daisy.h"
   2:mpr121_daisy.cpp **** #include "daisy_seed.h" // For System::Delay, though ideally this cpp wouldn't know about System
   3:mpr121_daisy.cpp **** 
   4:mpr121_daisy.cpp **** // Note: Error handling (SetTransportErr) is a bit basic, just accumulates.
   5:mpr121_daisy.cpp **** 
   6:mpr121_daisy.cpp **** bool thaumazein_hal::Mpr121::Init(const thaumazein_hal::Mpr121::Config& config)
   7:mpr121_daisy.cpp **** {
   8:mpr121_daisy.cpp ****     // Use 8-bit address (7-bit left-shifted) to match pre-update driver
   9:mpr121_daisy.cpp ****     // behaviour and the custom board routing.
  10:mpr121_daisy.cpp ****     i2c_address_ = config.i2c_address << 1;  // 0x5A â†’ 0xB4
  11:mpr121_daisy.cpp **** 
  12:mpr121_daisy.cpp ****     i2c_handle_.Init(config.i2c_config);
  13:mpr121_daisy.cpp ****     transport_error_ = false; 
  14:mpr121_daisy.cpp ****     WriteRegister(MPR121_SOFTRESET, 0x63);
  15:mpr121_daisy.cpp ****     daisy::System::Delay(1); // Allow time for reset
  16:mpr121_daisy.cpp **** 
  17:mpr121_daisy.cpp ****     if(ReadRegister8(MPR121_CONFIG2) != 0x24) // Check for a known post-reset value
  18:mpr121_daisy.cpp ****     {
  19:mpr121_daisy.cpp ****         SetTransportErr(true);
  20:mpr121_daisy.cpp ****         return false;
  21:mpr121_daisy.cpp ****     }
  22:mpr121_daisy.cpp **** 
  23:mpr121_daisy.cpp ****     // Stop electodes while configuring
  24:mpr121_daisy.cpp ****     WriteRegister(MPR121_ECR, 0x00);
  25:mpr121_daisy.cpp **** 
  26:mpr121_daisy.cpp ****     SetThresholds(8, 4);
  27:mpr121_daisy.cpp **** 
  28:mpr121_daisy.cpp ****     // Filter and global CDC/CDT configuration (matches working pre-update settings)
  29:mpr121_daisy.cpp ****     WriteRegister(MPR121_MHDR, 0x01);
  30:mpr121_daisy.cpp ****     WriteRegister(MPR121_NHDR, 0x03);
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 2


  31:mpr121_daisy.cpp ****     WriteRegister(MPR121_NCLR, 0x10);
  32:mpr121_daisy.cpp ****     WriteRegister(MPR121_FDLR, 0x20);
  33:mpr121_daisy.cpp **** 
  34:mpr121_daisy.cpp ****     WriteRegister(MPR121_MHDF, 0x01);
  35:mpr121_daisy.cpp ****     WriteRegister(MPR121_NHDF, 0x03);
  36:mpr121_daisy.cpp ****     WriteRegister(MPR121_NCLF, 0x10);
  37:mpr121_daisy.cpp ****     WriteRegister(MPR121_FDLF, 0x20);
  38:mpr121_daisy.cpp **** 
  39:mpr121_daisy.cpp ****     WriteRegister(MPR121_NHDT, 0x01);
  40:mpr121_daisy.cpp ****     WriteRegister(MPR121_NCLT, 0x05);
  41:mpr121_daisy.cpp ****     WriteRegister(MPR121_FDLT, 0x00);
  42:mpr121_daisy.cpp **** 
  43:mpr121_daisy.cpp ****     WriteRegister(MPR121_DEBOUNCE, (2 << 4) | 2);
  44:mpr121_daisy.cpp ****     WriteRegister(MPR121_CONFIG1, 0x3F);
  45:mpr121_daisy.cpp ****     WriteRegister(MPR121_CONFIG2, 0x00);
  46:mpr121_daisy.cpp **** 
  47:mpr121_daisy.cpp ****     // Enable all electrodes in run mode, 10-bit data, 63 samples
  48:mpr121_daisy.cpp ****     WriteRegister(MPR121_ECR, 0x8F);
  49:mpr121_daisy.cpp **** 
  50:mpr121_daisy.cpp ****     return !transport_error_;
  51:mpr121_daisy.cpp **** }
  52:mpr121_daisy.cpp **** 
  53:mpr121_daisy.cpp **** 
  54:mpr121_daisy.cpp **** // Helper function to read a single byte from an 8-bit register
  55:mpr121_daisy.cpp **** // 			uint8_t ReadRegister(uint8_t reg_addr)
  56:mpr121_daisy.cpp **** // 			{
  57:mpr121_daisy.cpp **** // 				uint8_t value = 0;
  58:mpr121_daisy.cpp **** // 				i2c_handle_.ReadDataAtAddress(i2c_address_, reg_addr, 1, &value, 1, kTimeout);
  59:mpr121_daisy.cpp **** // 				return value;
  60:mpr121_daisy.cpp **** // 			}
  61:mpr121_daisy.cpp **** // 
  62:mpr121_daisy.cpp **** // 			// Helper function to write a single byte to an 8-bit register
  63:mpr121_daisy.cpp **** // 			void WriteRegister(uint8_t reg_addr, uint8_t value)
  64:mpr121_daisy.cpp **** // 			{
  65:mpr121_daisy.cpp **** // 				i2c_handle_.WriteDataAtAddress(i2c_address_, reg_addr, 1, &value, 1, kTimeout);
  66:mpr121_daisy.cpp **** // 			}
  67:mpr121_daisy.cpp **** // 
  68:mpr121_daisy.cpp **** // 			// Helper function to read two bytes from a 16-bit register
  69:mpr121_daisy.cpp **** // 			uint16_t ReadRegister16(uint8_t reg_addr) // todo - untested
  70:mpr121_daisy.cpp **** // 			{
  71:mpr121_daisy.cpp **** // 				uint8_t  value_buff[2];
  72:mpr121_daisy.cpp **** // 				i2c_handle_.ReadDataAtAddress(i2c_address_, reg_addr, 1, value_buff, 2, kTimeout);
  73:mpr121_daisy.cpp **** // 				return (uint16_t)value_buff[0] | ((uint16_t)value_buff[1] << 8) ; 
  74:mpr121_daisy.cpp **** // 			}
  75:mpr121_daisy.cpp **** 
  76:mpr121_daisy.cpp **** uint16_t thaumazein_hal::Mpr121::Touched(void)
  77:mpr121_daisy.cpp **** {
  78:mpr121_daisy.cpp ****     return ReadRegister16(MPR121_TOUCHSTATUS_L);
  79:mpr121_daisy.cpp **** }
  80:mpr121_daisy.cpp **** 
  81:mpr121_daisy.cpp **** uint16_t thaumazein_hal::Mpr121::FilteredData(uint8_t channel)
  82:mpr121_daisy.cpp **** {
  83:mpr121_daisy.cpp ****     if(channel > 12) // 0-11 for touch, 12 for proximity
  84:mpr121_daisy.cpp ****         return 0;
  85:mpr121_daisy.cpp ****     return ReadRegister16(MPR121_FILTDATA_0L + channel * 2);
  86:mpr121_daisy.cpp **** }
  87:mpr121_daisy.cpp **** 
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 3


  88:mpr121_daisy.cpp **** uint8_t thaumazein_hal::Mpr121::BaselineData(uint8_t channel)
  89:mpr121_daisy.cpp **** {
  90:mpr121_daisy.cpp ****     if(channel > 12)
  91:mpr121_daisy.cpp ****         return 0;
  92:mpr121_daisy.cpp ****     uint8_t bl = ReadRegister8(MPR121_BASELINE_0 + channel);
  93:mpr121_daisy.cpp ****     return bl;
  94:mpr121_daisy.cpp **** }
  95:mpr121_daisy.cpp **** 
  96:mpr121_daisy.cpp **** 
  97:mpr121_daisy.cpp **** int16_t thaumazein_hal::Mpr121::GetBaselineDeviation(uint8_t channel)
  98:mpr121_daisy.cpp **** {
  99:mpr121_daisy.cpp ****     if (channel > 11) return 0; // Only for touch channels 0-11
 100:mpr121_daisy.cpp ****     uint16_t filtered  = FilteredData(channel);
 101:mpr121_daisy.cpp ****     uint8_t  baseline  = BaselineData(channel);
 102:mpr121_daisy.cpp ****     // Deviation positive when touch lowers the filtered value below baseline
 103:mpr121_daisy.cpp ****     return (static_cast<int16_t>(baseline) << 2) - static_cast<int16_t>(filtered);
 104:mpr121_daisy.cpp **** }
 105:mpr121_daisy.cpp **** 
 106:mpr121_daisy.cpp **** 
 107:mpr121_daisy.cpp **** float thaumazein_hal::Mpr121::GetProximityValue(const uint16_t channelMask, float sensitivity)
 108:mpr121_daisy.cpp **** {
 109:mpr121_daisy.cpp ****     if (sensitivity <= 0.0f) sensitivity = 1.0f;
 110:mpr121_daisy.cpp ****     int16_t total_deviation = 0;
 111:mpr121_daisy.cpp ****     int active_channels = 0;
 112:mpr121_daisy.cpp **** 
 113:mpr121_daisy.cpp ****     for (uint8_t i = 0; i < 12; ++i) {
 114:mpr121_daisy.cpp ****         if ((channelMask >> i) & 0x01) { // Check if this channel is in the mask
 115:mpr121_daisy.cpp ****             uint16_t filtered_data  = FilteredData(i);
 116:mpr121_daisy.cpp ****             uint8_t  baseline_data  = BaselineData(i);
 117:mpr121_daisy.cpp ****             // Positive deviation when touch lowers filtered value
 118:mpr121_daisy.cpp ****             int16_t deviation = (static_cast<int16_t>(baseline_data) << 2) - static_cast<int16_t>(f
 119:mpr121_daisy.cpp ****             
 120:mpr121_daisy.cpp ****             if (deviation > 0) { // Consider only positive deviations for proximity
 121:mpr121_daisy.cpp ****                 total_deviation += deviation;
 122:mpr121_daisy.cpp ****             }
 123:mpr121_daisy.cpp ****             active_channels++;
 124:mpr121_daisy.cpp ****         }
 125:mpr121_daisy.cpp ****     }
 126:mpr121_daisy.cpp **** 
 127:mpr121_daisy.cpp ****     if (active_channels == 0) return 0.0f;
 128:mpr121_daisy.cpp **** 
 129:mpr121_daisy.cpp ****     float average_deviation = static_cast<float>(total_deviation) / active_channels;
 130:mpr121_daisy.cpp ****     float proximity_value = (average_deviation / (1023.0f * sensitivity)); // Normalize against max
 131:mpr121_daisy.cpp **** 
 132:mpr121_daisy.cpp ****     return fmaxf(0.0f, fminf(1.0f, proximity_value)); // Clamp to 0.0 - 1.0
 133:mpr121_daisy.cpp **** }
 134:mpr121_daisy.cpp **** 
 135:mpr121_daisy.cpp **** void thaumazein_hal::Mpr121::SetThresholds(uint8_t touch, uint8_t release)
 136:mpr121_daisy.cpp **** {
 137:mpr121_daisy.cpp ****     WriteRegister(MPR121_ECR, 0x00); // Stop sensor to change settings
 138:mpr121_daisy.cpp ****     for(uint8_t i = 0; i < 12; i++)
 139:mpr121_daisy.cpp ****     {
 140:mpr121_daisy.cpp ****         WriteRegister(MPR121_TOUCHTH_0 + 2 * i, touch);
 141:mpr121_daisy.cpp ****         WriteRegister(MPR121_RELEASETH_0 + 2 * i, release);
 142:mpr121_daisy.cpp ****     }
 143:mpr121_daisy.cpp ****     WriteRegister(MPR121_ECR, 0x8F); // Restart sensor with 12 electrodes
 144:mpr121_daisy.cpp **** }
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 4


 145:mpr121_daisy.cpp **** 
 146:mpr121_daisy.cpp **** 
 147:mpr121_daisy.cpp **** uint8_t thaumazein_hal::Mpr121::ReadRegister8(uint8_t reg)
 148:mpr121_daisy.cpp **** {
  29              		.loc 1 148 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 0, uses_anonymous_args = 0
 149:mpr121_daisy.cpp ****     uint8_t value = 0;
  33              		.loc 1 149 5 view .LVU1
 148:mpr121_daisy.cpp ****     uint8_t value = 0;
  34              		.loc 1 148 1 is_stmt 0 view .LVU2
  35 0000 10B5     		push	{r4, lr}
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 4, -8
  38              		.cfi_offset 14, -4
  39              		.loc 1 149 13 view .LVU3
  40 0002 0023     		movs	r3, #0
 148:mpr121_daisy.cpp ****     uint8_t value = 0;
  41              		.loc 1 148 1 view .LVU4
  42 0004 86B0     		sub	sp, sp, #24
  43              		.cfi_def_cfa_offset 32
 148:mpr121_daisy.cpp ****     uint8_t value = 0;
  44              		.loc 1 148 1 view .LVU5
  45 0006 0A46     		mov	r2, r1
 150:mpr121_daisy.cpp ****     auto res = i2c_handle_.ReadDataAtAddress(i2c_address_, reg, 1, &value, 1, kTimeout);
  46              		.loc 1 150 45 view .LVU6
  47 0008 6421     		movs	r1, #100
  48              	.LVL1:
 149:mpr121_daisy.cpp ****     uint8_t value = 0;
  49              		.loc 1 149 13 view .LVU7
  50 000a 8DF81730 		strb	r3, [sp, #23]
  51              		.loc 1 150 5 is_stmt 1 view .LVU8
  52              		.loc 1 150 45 is_stmt 0 view .LVU9
  53 000e 0123     		movs	r3, #1
 148:mpr121_daisy.cpp ****     uint8_t value = 0;
  54              		.loc 1 148 1 view .LVU10
  55 0010 0446     		mov	r4, r0
  56              		.loc 1 150 45 view .LVU11
  57 0012 CDE90131 		strd	r3, r1, [sp, #4]
  58 0016 0DF11701 		add	r1, sp, #23
  59 001a 0091     		str	r1, [sp]
  60 001c 0179     		ldrb	r1, [r0, #4]	@ zero_extendqisi2
  61 001e FFF7FEFF 		bl	_ZN5daisy9I2CHandle17ReadDataAtAddressEtttPhtm
  62              	.LVL2:
 151:mpr121_daisy.cpp ****     SetTransportErr(res != daisy::I2CHandle::Result::OK);
  63              		.loc 1 151 5 is_stmt 1 view .LVU12
  64              	.LBB10:
  65              	.LBI10:
  66              		.file 2 "mpr121_daisy.h"
   1:mpr121_daisy.h **** #pragma once
   2:mpr121_daisy.h **** #ifndef MPR121_DAISY_H
   3:mpr121_daisy.h **** #define MPR121_DAISY_H
   4:mpr121_daisy.h **** 
   5:mpr121_daisy.h **** #include "daisy_seed.h"
   6:mpr121_daisy.h **** #include "per/i2c.h"
   7:mpr121_daisy.h **** 
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 5


   8:mpr121_daisy.h **** // Add a namespace to avoid collision with daisy::Mpr121
   9:mpr121_daisy.h **** namespace thaumazein_hal {
  10:mpr121_daisy.h **** 
  11:mpr121_daisy.h **** using namespace daisy; // Keep daisy namespace accessible within thaumazein_hal for convenience
  12:mpr121_daisy.h **** 
  13:mpr121_daisy.h **** /// mp
  14:mpr121_daisy.h **** 
  15:mpr121_daisy.h **** // Register map
  16:mpr121_daisy.h **** #define MPR121_TOUCHSTATUS_L 0x00
  17:mpr121_daisy.h **** #define MPR121_TOUCHSTATUS_H 0x01
  18:mpr121_daisy.h **** #define MPR121_FILTDATA_0L 0x04
  19:mpr121_daisy.h **** #define MPR121_FILTDATA_0H 0x05
  20:mpr121_daisy.h **** #define MPR121_BASELINE_0 0x1E
  21:mpr121_daisy.h **** #define MPR121_MHDR 0x2B
  22:mpr121_daisy.h **** #define MPR121_NHDR 0x2C
  23:mpr121_daisy.h **** #define MPR121_NCLR 0x2D
  24:mpr121_daisy.h **** #define MPR121_FDLR 0x2E
  25:mpr121_daisy.h **** #define MPR121_MHDF 0x2F
  26:mpr121_daisy.h **** #define MPR121_NHDF 0x30
  27:mpr121_daisy.h **** #define MPR121_NCLF 0x31
  28:mpr121_daisy.h **** #define MPR121_FDLF 0x32
  29:mpr121_daisy.h **** #define MPR121_NHDT 0x33
  30:mpr121_daisy.h **** #define MPR121_NCLT 0x34
  31:mpr121_daisy.h **** #define MPR121_FDLT 0x35
  32:mpr121_daisy.h **** 
  33:mpr121_daisy.h **** #define MPR121_TOUCHTH_0 0x41
  34:mpr121_daisy.h **** #define MPR121_RELEASETH_0 0x42
  35:mpr121_daisy.h **** #define MPR121_DEBOUNCE 0x5B
  36:mpr121_daisy.h **** #define MPR121_CONFIG1 0x5C
  37:mpr121_daisy.h **** #define MPR121_CONFIG2 0x5D
  38:mpr121_daisy.h **** #define MPR121_CHARGECURR_0 0x5F
  39:mpr121_daisy.h **** #define MPR121_CHARGETIME_1 0x6C
  40:mpr121_daisy.h **** #define MPR121_ECR 0x5E
  41:mpr121_daisy.h **** #define MPR121_AUTOCONFIG0 0x7B
  42:mpr121_daisy.h **** #define MPR121_AUTOCONFIG1 0x7C
  43:mpr121_daisy.h **** #define MPR121_UPLIMIT 0x7D
  44:mpr121_daisy.h **** #define MPR121_LOWLIMIT 0x7E
  45:mpr121_daisy.h **** #define MPR121_TARGETLIMIT 0x7F
  46:mpr121_daisy.h **** 
  47:mpr121_daisy.h **** #define MPR121_GPIODIR 0x76
  48:mpr121_daisy.h **** #define MPR121_GPIOEN 0x77
  49:mpr121_daisy.h **** #define MPR121_GPIOSET 0x78
  50:mpr121_daisy.h **** #define MPR121_GPIOCLR 0x79
  51:mpr121_daisy.h **** #define MPR121_GPIOTOGGLE 0x7A
  52:mpr121_daisy.h **** 
  53:mpr121_daisy.h **** #define MPR121_SOFTRESET 0x80
  54:mpr121_daisy.h **** #define MPR121_I2CADDR_DEFAULT 0x5A
  55:mpr121_daisy.h **** 
  56:mpr121_daisy.h **** class Mpr121
  57:mpr121_daisy.h **** {
  58:mpr121_daisy.h ****   public:
  59:mpr121_daisy.h ****     Mpr121() {}
  60:mpr121_daisy.h ****     ~Mpr121() {}
  61:mpr121_daisy.h **** 
  62:mpr121_daisy.h ****     struct Config
  63:mpr121_daisy.h ****     {
  64:mpr121_daisy.h ****         I2CHandle::Config i2c_config;
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 6


  65:mpr121_daisy.h ****         uint8_t          i2c_address;
  66:mpr121_daisy.h **** 
  67:mpr121_daisy.h ****         void Defaults()
  68:mpr121_daisy.h ****         {
  69:mpr121_daisy.h ****             i2c_config.periph = I2CHandle::Config::Peripheral::I2C_1;
  70:mpr121_daisy.h ****             i2c_config.speed  = I2CHandle::Config::Speed::I2C_400KHZ;
  71:mpr121_daisy.h ****             i2c_config.mode   = I2CHandle::Config::Mode::I2C_MASTER;
  72:mpr121_daisy.h ****             i2c_config.pin_config.scl = Pin(daisy::GPIOPort::PORTB, 8);
  73:mpr121_daisy.h ****             i2c_config.pin_config.sda = Pin(daisy::GPIOPort::PORTB, 9);
  74:mpr121_daisy.h ****             i2c_address               = MPR121_I2CADDR_DEFAULT;
  75:mpr121_daisy.h ****         }
  76:mpr121_daisy.h ****     };
  77:mpr121_daisy.h **** 
  78:mpr121_daisy.h ****     bool     Init(const Config& config);
  79:mpr121_daisy.h ****     uint16_t Touched();
  80:mpr121_daisy.h ****     uint16_t FilteredData(uint8_t channel);
  81:mpr121_daisy.h ****     uint8_t  BaselineData(uint8_t channel);
  82:mpr121_daisy.h ****     int16_t  GetBaselineDeviation(uint8_t channel);
  83:mpr121_daisy.h ****     float    GetProximityValue(uint16_t channelMask = 0x0FFF,
  84:mpr121_daisy.h ****                                float     sensitivity  = 1.0f);
  85:mpr121_daisy.h ****     void     SetThresholds(uint8_t touch, uint8_t release);
  86:mpr121_daisy.h **** 
  87:mpr121_daisy.h ****     // Add error handling accessors
  88:mpr121_daisy.h ****     bool HasError() const;     // true if any I2C transaction failed since last ClearError()
  89:mpr121_daisy.h ****     void ClearError();         // reset internal error flag
  90:mpr121_daisy.h **** 
  91:mpr121_daisy.h ****   private:
  92:mpr121_daisy.h ****     I2CHandle              i2c_handle_;
  93:mpr121_daisy.h ****     uint8_t                i2c_address_;
  94:mpr121_daisy.h ****     bool transport_error_ = false; // accumulates I2C errors
  95:mpr121_daisy.h ****     void SetTransportErr(bool err) { transport_error_ |= err; }
  67              		.loc 2 95 10 view .LVU13
  68              	.LBB11:
  69              		.loc 2 95 38 view .LVU14
  70              		.loc 2 95 55 is_stmt 0 view .LVU15
  71 0022 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
  72 0024 0028     		cmp	r0, #0
  73 0026 18BF     		it	ne
  74 0028 43F00103 		orrne	r3, r3, #1
  75              	.LBE11:
  76              	.LBE10:
 152:mpr121_daisy.cpp ****     return value;
 153:mpr121_daisy.cpp **** }
  77              		.loc 1 153 1 view .LVU16
  78 002c 9DF81700 		ldrb	r0, [sp, #23]	@ zero_extendqisi2
  79              	.LVL3:
  80              	.LBB13:
  81              	.LBB12:
  82              		.loc 2 95 55 view .LVU17
  83 0030 6371     		strb	r3, [r4, #5]
  84              	.LVL4:
  85              		.loc 2 95 55 view .LVU18
  86              	.LBE12:
  87              	.LBE13:
 152:mpr121_daisy.cpp ****     return value;
  88              		.loc 1 152 5 is_stmt 1 view .LVU19
  89              		.loc 1 153 1 is_stmt 0 view .LVU20
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 7


  90 0032 06B0     		add	sp, sp, #24
  91              		.cfi_def_cfa_offset 8
  92              		@ sp needed
  93 0034 10BD     		pop	{r4, pc}
  94              		.loc 1 153 1 view .LVU21
  95              		.cfi_endproc
  96              	.LFE2666:
  98              		.section	.text._ZN14thaumazein_hal6Mpr12112BaselineDataEh,"ax",%progbits
  99              		.align	1
 100              		.global	_ZN14thaumazein_hal6Mpr12112BaselineDataEh
 101              		.syntax unified
 102              		.thumb
 103              		.thumb_func
 105              	_ZN14thaumazein_hal6Mpr12112BaselineDataEh:
 106              	.LVL5:
 107              	.LFB2662:
  89:mpr121_daisy.cpp ****     if(channel > 12)
 108              		.loc 1 89 1 is_stmt 1 view -0
 109              		.cfi_startproc
 110              		@ args = 0, pretend = 0, frame = 0
 111              		@ frame_needed = 0, uses_anonymous_args = 0
 112              		@ link register save eliminated.
  90:mpr121_daisy.cpp ****         return 0;
 113              		.loc 1 90 5 view .LVU23
 114 0000 0C29     		cmp	r1, #12
 115 0002 03D8     		bhi	.L3
 116              	.LVL6:
 117              	.LBB16:
 118              	.LBI16:
  88:mpr121_daisy.cpp **** {
 119              		.loc 1 88 9 view .LVU24
 120              	.LBB17:
  92:mpr121_daisy.cpp ****     return bl;
 121              		.loc 1 92 5 view .LVU25
  92:mpr121_daisy.cpp ****     return bl;
 122              		.loc 1 92 31 is_stmt 0 view .LVU26
 123 0004 1E31     		adds	r1, r1, #30
 124              	.LVL7:
  92:mpr121_daisy.cpp ****     return bl;
 125              		.loc 1 92 31 view .LVU27
 126 0006 C9B2     		uxtb	r1, r1
 127 0008 FFF7FEBF 		b	_ZN14thaumazein_hal6Mpr12113ReadRegister8Eh
 128              	.LVL8:
 129              	.L3:
  92:mpr121_daisy.cpp ****     return bl;
 130              		.loc 1 92 31 view .LVU28
 131              	.LBE17:
 132              	.LBE16:
  94:mpr121_daisy.cpp **** 
 133              		.loc 1 94 1 view .LVU29
 134 000c 0020     		movs	r0, #0
 135              	.LVL9:
  94:mpr121_daisy.cpp **** 
 136              		.loc 1 94 1 view .LVU30
 137 000e 7047     		bx	lr
 138              		.cfi_endproc
 139              	.LFE2662:
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 8


 141              		.section	.text._ZN14thaumazein_hal6Mpr12114ReadRegister16Eh,"ax",%progbits
 142              		.align	1
 143              		.global	_ZN14thaumazein_hal6Mpr12114ReadRegister16Eh
 144              		.syntax unified
 145              		.thumb
 146              		.thumb_func
 148              	_ZN14thaumazein_hal6Mpr12114ReadRegister16Eh:
 149              	.LVL10:
 150              	.LFB2667:
 154:mpr121_daisy.cpp **** 
 155:mpr121_daisy.cpp **** uint16_t thaumazein_hal::Mpr121::ReadRegister16(uint8_t reg)
 156:mpr121_daisy.cpp **** {
 151              		.loc 1 156 1 is_stmt 1 view -0
 152              		.cfi_startproc
 153              		@ args = 0, pretend = 0, frame = 8
 154              		@ frame_needed = 0, uses_anonymous_args = 0
 157:mpr121_daisy.cpp ****     uint8_t buffer[2];
 155              		.loc 1 157 5 view .LVU32
 158:mpr121_daisy.cpp ****     auto res = i2c_handle_.ReadDataAtAddress(i2c_address_, reg, 1, buffer, 2, kTimeout);
 156              		.loc 1 158 5 view .LVU33
 156:mpr121_daisy.cpp ****     uint8_t buffer[2];
 157              		.loc 1 156 1 is_stmt 0 view .LVU34
 158 0000 10B5     		push	{r4, lr}
 159              		.cfi_def_cfa_offset 8
 160              		.cfi_offset 4, -8
 161              		.cfi_offset 14, -4
 162 0002 0A46     		mov	r2, r1
 163 0004 86B0     		sub	sp, sp, #24
 164              		.cfi_def_cfa_offset 32
 165              		.loc 1 158 45 view .LVU35
 166 0006 0223     		movs	r3, #2
 167 0008 6421     		movs	r1, #100
 168              	.LVL11:
 156:mpr121_daisy.cpp ****     uint8_t buffer[2];
 169              		.loc 1 156 1 view .LVU36
 170 000a 0446     		mov	r4, r0
 171              		.loc 1 158 45 view .LVU37
 172 000c CDE90131 		strd	r3, r1, [sp, #4]
 173 0010 05AB     		add	r3, sp, #20
 174 0012 0093     		str	r3, [sp]
 175 0014 0123     		movs	r3, #1
 176 0016 0179     		ldrb	r1, [r0, #4]	@ zero_extendqisi2
 177 0018 FFF7FEFF 		bl	_ZN5daisy9I2CHandle17ReadDataAtAddressEtttPhtm
 178              	.LVL12:
 159:mpr121_daisy.cpp ****     SetTransportErr(res != daisy::I2CHandle::Result::OK);
 179              		.loc 1 159 5 is_stmt 1 view .LVU38
 180              	.LBB18:
 181              	.LBI18:
 182              		.loc 2 95 10 view .LVU39
 183              	.LBB19:
 184              		.loc 2 95 38 view .LVU40
 185              		.loc 2 95 55 is_stmt 0 view .LVU41
 186 001c 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 187              	.LBE19:
 188              	.LBE18:
 189              		.loc 1 159 20 view .LVU42
 190 001e 0028     		cmp	r0, #0
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 9


 191              	.LBB22:
 192              	.LBB20:
 193              		.loc 2 95 55 view .LVU43
 194 0020 18BF     		it	ne
 195 0022 43F00103 		orrne	r3, r3, #1
 196 0026 0CBF     		ite	eq
 197 0028 BDF81400 		ldrheq	r0, [sp, #20]
 198              	.LVL13:
 199              		.loc 2 95 55 view .LVU44
 200              	.LBE20:
 201              	.LBE22:
 160:mpr121_daisy.cpp ****     if (res == daisy::I2CHandle::Result::OK) {
 161:mpr121_daisy.cpp ****         return (uint16_t)buffer[0] | ((uint16_t)buffer[1] << 8);
 162:mpr121_daisy.cpp ****     }
 163:mpr121_daisy.cpp ****     return 0; // Return 0 on error
 202              		.loc 1 163 12 view .LVU45
 203 002c 0020     		movne	r0, #0
 204              	.LBB23:
 205              	.LBB21:
 206              		.loc 2 95 55 view .LVU46
 207 002e 6371     		strb	r3, [r4, #5]
 208              	.LVL14:
 209              		.loc 2 95 55 view .LVU47
 210              	.LBE21:
 211              	.LBE23:
 160:mpr121_daisy.cpp ****     if (res == daisy::I2CHandle::Result::OK) {
 212              		.loc 1 160 5 is_stmt 1 view .LVU48
 161:mpr121_daisy.cpp ****     }
 213              		.loc 1 161 9 view .LVU49
 164:mpr121_daisy.cpp **** }
 214              		.loc 1 164 1 is_stmt 0 view .LVU50
 215 0030 06B0     		add	sp, sp, #24
 216              		.cfi_def_cfa_offset 8
 217              		@ sp needed
 218 0032 10BD     		pop	{r4, pc}
 219              		.loc 1 164 1 view .LVU51
 220              		.cfi_endproc
 221              	.LFE2667:
 223              		.section	.text._ZN14thaumazein_hal6Mpr1217TouchedEv,"ax",%progbits
 224              		.align	1
 225              		.global	_ZN14thaumazein_hal6Mpr1217TouchedEv
 226              		.syntax unified
 227              		.thumb
 228              		.thumb_func
 230              	_ZN14thaumazein_hal6Mpr1217TouchedEv:
 231              	.LVL15:
 232              	.LFB2660:
  77:mpr121_daisy.cpp ****     return ReadRegister16(MPR121_TOUCHSTATUS_L);
 233              		.loc 1 77 1 is_stmt 1 view -0
 234              		.cfi_startproc
 235              		@ args = 0, pretend = 0, frame = 0
 236              		@ frame_needed = 0, uses_anonymous_args = 0
 237              		@ link register save eliminated.
  78:mpr121_daisy.cpp **** }
 238              		.loc 1 78 5 view .LVU53
  78:mpr121_daisy.cpp **** }
 239              		.loc 1 78 26 is_stmt 0 view .LVU54
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 10


 240 0000 0021     		movs	r1, #0
 241 0002 FFF7FEBF 		b	_ZN14thaumazein_hal6Mpr12114ReadRegister16Eh
 242              	.LVL16:
  78:mpr121_daisy.cpp **** }
 243              		.loc 1 78 26 view .LVU55
 244              		.cfi_endproc
 245              	.LFE2660:
 247              		.section	.text._ZN14thaumazein_hal6Mpr12112FilteredDataEh,"ax",%progbits
 248              		.align	1
 249              		.global	_ZN14thaumazein_hal6Mpr12112FilteredDataEh
 250              		.syntax unified
 251              		.thumb
 252              		.thumb_func
 254              	_ZN14thaumazein_hal6Mpr12112FilteredDataEh:
 255              	.LVL17:
 256              	.LFB2661:
  82:mpr121_daisy.cpp ****     if(channel > 12) // 0-11 for touch, 12 for proximity
 257              		.loc 1 82 1 is_stmt 1 view -0
 258              		.cfi_startproc
 259              		@ args = 0, pretend = 0, frame = 0
 260              		@ frame_needed = 0, uses_anonymous_args = 0
 261              		@ link register save eliminated.
  83:mpr121_daisy.cpp ****         return 0;
 262              		.loc 1 83 5 view .LVU57
 263 0000 0C29     		cmp	r1, #12
 264 0002 05D8     		bhi	.L9
 265              	.LVL18:
 266              	.LBB26:
 267              	.LBI26:
  81:mpr121_daisy.cpp **** {
 268              		.loc 1 81 10 view .LVU58
 269              	.LBB27:
  85:mpr121_daisy.cpp **** }
 270              		.loc 1 85 5 view .LVU59
  85:mpr121_daisy.cpp **** }
 271              		.loc 1 85 26 is_stmt 0 view .LVU60
 272 0004 0231     		adds	r1, r1, #2
 273              	.LVL19:
  85:mpr121_daisy.cpp **** }
 274              		.loc 1 85 26 view .LVU61
 275 0006 4900     		lsls	r1, r1, #1
 276 0008 01F0FE01 		and	r1, r1, #254
 277 000c FFF7FEBF 		b	_ZN14thaumazein_hal6Mpr12114ReadRegister16Eh
 278              	.LVL20:
 279              	.L9:
  85:mpr121_daisy.cpp **** }
 280              		.loc 1 85 26 view .LVU62
 281              	.LBE27:
 282              	.LBE26:
  86:mpr121_daisy.cpp **** 
 283              		.loc 1 86 1 view .LVU63
 284 0010 0020     		movs	r0, #0
 285              	.LVL21:
  86:mpr121_daisy.cpp **** 
 286              		.loc 1 86 1 view .LVU64
 287 0012 7047     		bx	lr
 288              		.cfi_endproc
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 11


 289              	.LFE2661:
 291              		.section	.text._ZN14thaumazein_hal6Mpr12120GetBaselineDeviationEh,"ax",%progbits
 292              		.align	1
 293              		.global	_ZN14thaumazein_hal6Mpr12120GetBaselineDeviationEh
 294              		.syntax unified
 295              		.thumb
 296              		.thumb_func
 298              	_ZN14thaumazein_hal6Mpr12120GetBaselineDeviationEh:
 299              	.LVL22:
 300              	.LFB2663:
  98:mpr121_daisy.cpp ****     if (channel > 11) return 0; // Only for touch channels 0-11
 301              		.loc 1 98 1 is_stmt 1 view -0
 302              		.cfi_startproc
 303              		@ args = 0, pretend = 0, frame = 0
 304              		@ frame_needed = 0, uses_anonymous_args = 0
  99:mpr121_daisy.cpp ****     uint16_t filtered  = FilteredData(channel);
 305              		.loc 1 99 5 view .LVU66
 306 0000 0B29     		cmp	r1, #11
  98:mpr121_daisy.cpp ****     if (channel > 11) return 0; // Only for touch channels 0-11
 307              		.loc 1 98 1 is_stmt 0 view .LVU67
 308 0002 70B5     		push	{r4, r5, r6, lr}
 309              		.cfi_def_cfa_offset 16
 310              		.cfi_offset 4, -16
 311              		.cfi_offset 5, -12
 312              		.cfi_offset 6, -8
 313              		.cfi_offset 14, -4
  98:mpr121_daisy.cpp ****     if (channel > 11) return 0; // Only for touch channels 0-11
 314              		.loc 1 98 1 view .LVU68
 315 0004 0646     		mov	r6, r0
 316 0006 0D46     		mov	r5, r1
  99:mpr121_daisy.cpp ****     uint16_t filtered  = FilteredData(channel);
 317              		.loc 1 99 5 view .LVU69
 318 0008 0AD8     		bhi	.L12
 100:mpr121_daisy.cpp ****     uint8_t  baseline  = BaselineData(channel);
 319              		.loc 1 100 5 is_stmt 1 view .LVU70
 100:mpr121_daisy.cpp ****     uint8_t  baseline  = BaselineData(channel);
 320              		.loc 1 100 38 is_stmt 0 view .LVU71
 321 000a FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12112FilteredDataEh
 322              	.LVL23:
 100:mpr121_daisy.cpp ****     uint8_t  baseline  = BaselineData(channel);
 323              		.loc 1 100 38 view .LVU72
 324 000e 0446     		mov	r4, r0
 325              	.LVL24:
 101:mpr121_daisy.cpp ****     // Deviation positive when touch lowers the filtered value below baseline
 326              		.loc 1 101 5 is_stmt 1 view .LVU73
 101:mpr121_daisy.cpp ****     // Deviation positive when touch lowers the filtered value below baseline
 327              		.loc 1 101 38 is_stmt 0 view .LVU74
 328 0010 2946     		mov	r1, r5
 329 0012 3046     		mov	r0, r6
 330 0014 FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12112BaselineDataEh
 331              	.LVL25:
 103:mpr121_daisy.cpp **** }
 332              		.loc 1 103 5 is_stmt 1 view .LVU75
 103:mpr121_daisy.cpp **** }
 333              		.loc 1 103 50 is_stmt 0 view .LVU76
 334 0018 C4EB8000 		rsb	r0, r4, r0, lsl #2
 335              	.LVL26:
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 12


 103:mpr121_daisy.cpp **** }
 336              		.loc 1 103 81 view .LVU77
 337 001c 00B2     		sxth	r0, r0
 338              	.LVL27:
 339              	.L11:
 104:mpr121_daisy.cpp **** 
 340              		.loc 1 104 1 view .LVU78
 341 001e 70BD     		pop	{r4, r5, r6, pc}
 342              	.LVL28:
 343              	.L12:
  99:mpr121_daisy.cpp ****     uint16_t filtered  = FilteredData(channel);
 344              		.loc 1 99 30 view .LVU79
 345 0020 0020     		movs	r0, #0
 346              	.LVL29:
  99:mpr121_daisy.cpp ****     uint16_t filtered  = FilteredData(channel);
 347              		.loc 1 99 30 view .LVU80
 348 0022 FCE7     		b	.L11
 349              		.cfi_endproc
 350              	.LFE2663:
 352              		.section	.text._ZN14thaumazein_hal6Mpr12117GetProximityValueEtf,"ax",%progbits
 353              		.align	1
 354              		.global	_ZN14thaumazein_hal6Mpr12117GetProximityValueEtf
 355              		.syntax unified
 356              		.thumb
 357              		.thumb_func
 359              	_ZN14thaumazein_hal6Mpr12117GetProximityValueEtf:
 360              	.LVL30:
 361              	.LFB2664:
 108:mpr121_daisy.cpp ****     if (sensitivity <= 0.0f) sensitivity = 1.0f;
 362              		.loc 1 108 1 is_stmt 1 view -0
 363              		.cfi_startproc
 364              		@ args = 0, pretend = 0, frame = 8
 365              		@ frame_needed = 0, uses_anonymous_args = 0
 109:mpr121_daisy.cpp ****     int16_t total_deviation = 0;
 366              		.loc 1 109 5 view .LVU82
 367 0000 B5EEC00A 		vcmpe.f32	s0, #0
 108:mpr121_daisy.cpp ****     if (sensitivity <= 0.0f) sensitivity = 1.0f;
 368              		.loc 1 108 1 is_stmt 0 view .LVU83
 369 0004 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 370              		.cfi_def_cfa_offset 28
 371              		.cfi_offset 4, -28
 372              		.cfi_offset 5, -24
 373              		.cfi_offset 6, -20
 374              		.cfi_offset 7, -16
 375              		.cfi_offset 8, -12
 376              		.cfi_offset 9, -8
 377              		.cfi_offset 14, -4
 109:mpr121_daisy.cpp ****     int16_t total_deviation = 0;
 378              		.loc 1 109 5 view .LVU84
 379 0008 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 109:mpr121_daisy.cpp ****     int16_t total_deviation = 0;
 380              		.loc 1 109 42 view .LVU85
 381 000c 4FF00005 		mov	r5, #0
 108:mpr121_daisy.cpp ****     if (sensitivity <= 0.0f) sensitivity = 1.0f;
 382              		.loc 1 108 1 view .LVU86
 383 0010 8046     		mov	r8, r0
 384 0012 8946     		mov	r9, r1
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 13


 111:mpr121_daisy.cpp **** 
 385              		.loc 1 111 9 view .LVU87
 386 0014 2E46     		mov	r6, r5
 110:mpr121_daisy.cpp ****     int active_channels = 0;
 387              		.loc 1 110 13 view .LVU88
 388 0016 2F46     		mov	r7, r5
 108:mpr121_daisy.cpp ****     if (sensitivity <= 0.0f) sensitivity = 1.0f;
 389              		.loc 1 108 1 view .LVU89
 390 0018 2DED028B 		vpush.64	{d8}
 391              		.cfi_def_cfa_offset 36
 392              		.cfi_offset 80, -36
 393              		.cfi_offset 81, -32
 394 001c B0EE408A 		vmov.f32	s16, s0
 395 0020 83B0     		sub	sp, sp, #12
 396              		.cfi_def_cfa_offset 48
 109:mpr121_daisy.cpp ****     int16_t total_deviation = 0;
 397              		.loc 1 109 42 view .LVU90
 398 0022 98BF     		it	ls
 399 0024 B7EE008A 		vmovls.f32	s16, #1.0e+0
 400              	.LVL31:
 110:mpr121_daisy.cpp ****     int active_channels = 0;
 401              		.loc 1 110 5 is_stmt 1 view .LVU91
 111:mpr121_daisy.cpp **** 
 402              		.loc 1 111 5 view .LVU92
 113:mpr121_daisy.cpp ****         if ((channelMask >> i) & 0x01) { // Check if this channel is in the mask
 403              		.loc 1 113 5 view .LVU93
 404              	.LBB28:
 113:mpr121_daisy.cpp ****         if ((channelMask >> i) & 0x01) { // Check if this channel is in the mask
 405              		.loc 1 113 27 view .LVU94
 406              	.L18:
 407              	.LBB29:
 114:mpr121_daisy.cpp ****             uint16_t filtered_data  = FilteredData(i);
 408              		.loc 1 114 26 is_stmt 0 view .LVU95
 409 0028 49FA05F3 		asr	r3, r9, r5
 410 002c E9B2     		uxtb	r1, r5
 411              	.LVL32:
 114:mpr121_daisy.cpp ****             uint16_t filtered_data  = FilteredData(i);
 412              		.loc 1 114 26 view .LVU96
 413              	.LBE29:
 414              	.LBE28:
 114:mpr121_daisy.cpp ****             uint16_t filtered_data  = FilteredData(i);
 415              		.loc 1 114 9 is_stmt 1 view .LVU97
 416              	.LBB32:
 417              	.LBB31:
 418 002e DB07     		lsls	r3, r3, #31
 419 0030 11D5     		bpl	.L16
 420              	.LBB30:
 115:mpr121_daisy.cpp ****             uint8_t  baseline_data  = BaselineData(i);
 421              		.loc 1 115 13 view .LVU98
 115:mpr121_daisy.cpp ****             uint8_t  baseline_data  = BaselineData(i);
 422              		.loc 1 115 51 is_stmt 0 view .LVU99
 423 0032 4046     		mov	r0, r8
 424 0034 0191     		str	r1, [sp, #4]
 425 0036 FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12112FilteredDataEh
 426              	.LVL33:
 115:mpr121_daisy.cpp ****             uint8_t  baseline_data  = BaselineData(i);
 427              		.loc 1 115 51 view .LVU100
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 14


 428 003a 0446     		mov	r4, r0
 429              	.LVL34:
 116:mpr121_daisy.cpp ****             // Positive deviation when touch lowers filtered value
 430              		.loc 1 116 13 is_stmt 1 view .LVU101
 116:mpr121_daisy.cpp ****             // Positive deviation when touch lowers filtered value
 431              		.loc 1 116 51 is_stmt 0 view .LVU102
 432 003c 0199     		ldr	r1, [sp, #4]
 433 003e 4046     		mov	r0, r8
 434 0040 FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12112BaselineDataEh
 435              	.LVL35:
 118:mpr121_daisy.cpp ****             
 436              		.loc 1 118 13 is_stmt 1 view .LVU103
 123:mpr121_daisy.cpp ****         }
 437              		.loc 1 123 28 is_stmt 0 view .LVU104
 438 0044 0136     		adds	r6, r6, #1
 439              	.LVL36:
 118:mpr121_daisy.cpp ****             
 440              		.loc 1 118 76 view .LVU105
 441 0046 C4EB8003 		rsb	r3, r4, r0, lsl #2
 442 004a 9AB2     		uxth	r2, r3
 443              	.LVL37:
 120:mpr121_daisy.cpp ****                 total_deviation += deviation;
 444              		.loc 1 120 13 is_stmt 1 view .LVU106
 445 004c 1BB2     		sxth	r3, r3
 446 004e 002B     		cmp	r3, #0
 121:mpr121_daisy.cpp ****             }
 447              		.loc 1 121 17 view .LVU107
 121:mpr121_daisy.cpp ****             }
 448              		.loc 1 121 33 is_stmt 0 view .LVU108
 449 0050 C4BF     		itt	gt
 450 0052 BF18     		addgt	r7, r7, r2
 451              	.LVL38:
 121:mpr121_daisy.cpp ****             }
 452              		.loc 1 121 33 view .LVU109
 453 0054 3FB2     		sxthgt	r7, r7
 454              	.LVL39:
 123:mpr121_daisy.cpp ****         }
 455              		.loc 1 123 13 is_stmt 1 view .LVU110
 456              	.L16:
 123:mpr121_daisy.cpp ****         }
 457              		.loc 1 123 13 is_stmt 0 view .LVU111
 458              	.LBE30:
 459              	.LBE31:
 113:mpr121_daisy.cpp ****         if ((channelMask >> i) & 0x01) { // Check if this channel is in the mask
 460              		.loc 1 113 5 is_stmt 1 discriminator 2 view .LVU112
 113:mpr121_daisy.cpp ****         if ((channelMask >> i) & 0x01) { // Check if this channel is in the mask
 461              		.loc 1 113 27 discriminator 2 view .LVU113
 462 0056 0135     		adds	r5, r5, #1
 463              	.LVL40:
 113:mpr121_daisy.cpp ****         if ((channelMask >> i) & 0x01) { // Check if this channel is in the mask
 464              		.loc 1 113 27 is_stmt 0 discriminator 2 view .LVU114
 465 0058 0C2D     		cmp	r5, #12
 466 005a E5D1     		bne	.L18
 113:mpr121_daisy.cpp ****         if ((channelMask >> i) & 0x01) { // Check if this channel is in the mask
 467              		.loc 1 113 27 discriminator 2 view .LVU115
 468              	.LBE32:
 127:mpr121_daisy.cpp **** 
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 15


 469              		.loc 1 127 5 is_stmt 1 view .LVU116
 470 005c 9FED0E0A 		vldr.32	s0, .L26
 471 0060 AEB1     		cbz	r6, .L13
 129:mpr121_daisy.cpp ****     float proximity_value = (average_deviation / (1023.0f * sensitivity)); // Normalize against max
 472              		.loc 1 129 5 view .LVU117
 473              	.LVL41:
 130:mpr121_daisy.cpp **** 
 474              		.loc 1 130 5 view .LVU118
 132:mpr121_daisy.cpp **** }
 475              		.loc 1 132 5 view .LVU119
 129:mpr121_daisy.cpp ****     float proximity_value = (average_deviation / (1023.0f * sensitivity)); // Normalize against max
 476              		.loc 1 129 31 is_stmt 0 view .LVU120
 477 0062 07EE907A 		vmov	s15, r7	@ int
 478 0066 B8EEE77A 		vcvt.f32.s32	s14, s15
 129:mpr121_daisy.cpp ****     float proximity_value = (average_deviation / (1023.0f * sensitivity)); // Normalize against max
 479              		.loc 1 129 67 view .LVU121
 480 006a 07EE906A 		vmov	s15, r6	@ int
 481 006e F8EEE77A 		vcvt.f32.s32	s15, s15
 129:mpr121_daisy.cpp ****     float proximity_value = (average_deviation / (1023.0f * sensitivity)); // Normalize against max
 482              		.loc 1 129 11 view .LVU122
 483 0072 C7EE276A 		vdiv.f32	s13, s14, s15
 130:mpr121_daisy.cpp **** 
 484              		.loc 1 130 59 view .LVU123
 485 0076 DFED097A 		vldr.32	s15, .L26+4
 486 007a 28EE278A 		vmul.f32	s16, s16, s15
 487              	.LVL42:
 132:mpr121_daisy.cpp **** }
 488              		.loc 1 132 17 view .LVU124
 489 007e F7EE007A 		vmov.f32	s15, #1.0e+0
 130:mpr121_daisy.cpp **** 
 490              		.loc 1 130 11 view .LVU125
 491 0082 86EE887A 		vdiv.f32	s14, s13, s16
 132:mpr121_daisy.cpp **** }
 492              		.loc 1 132 17 view .LVU126
 493 0086 C7FEC77A 		vminnm.f32	s15, s15, s14
 494 008a 80FE270A 		vmaxnm.f32	s0, s0, s15
 495              	.LVL43:
 496              	.L13:
 133:mpr121_daisy.cpp **** 
 497              		.loc 1 133 1 view .LVU127
 498 008e 03B0     		add	sp, sp, #12
 499              		.cfi_def_cfa_offset 36
 500              		@ sp needed
 501 0090 BDEC028B 		vldm	sp!, {d8}
 502              		.cfi_restore 80
 503              		.cfi_restore 81
 504              		.cfi_def_cfa_offset 28
 505 0094 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 506              	.LVL44:
 507              	.L27:
 133:mpr121_daisy.cpp **** 
 508              		.loc 1 133 1 view .LVU128
 509              		.align	2
 510              	.L26:
 511 0098 00000000 		.word	0
 512 009c 00C07F44 		.word	1149222912
 513              		.cfi_endproc
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 16


 514              	.LFE2664:
 516              		.section	.text._ZN14thaumazein_hal6Mpr12113WriteRegisterEhh,"ax",%progbits
 517              		.align	1
 518              		.global	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 519              		.syntax unified
 520              		.thumb
 521              		.thumb_func
 523              	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh:
 524              	.LVL45:
 525              	.LFB2668:
 165:mpr121_daisy.cpp **** 
 166:mpr121_daisy.cpp **** 
 167:mpr121_daisy.cpp **** void thaumazein_hal::Mpr121::WriteRegister(uint8_t reg, uint8_t value)
 168:mpr121_daisy.cpp **** {
 526              		.loc 1 168 1 is_stmt 1 view -0
 527              		.cfi_startproc
 528              		@ args = 0, pretend = 0, frame = 8
 529              		@ frame_needed = 0, uses_anonymous_args = 0
 169:mpr121_daisy.cpp ****     uint8_t buffer[1] = {value};
 530              		.loc 1 169 5 view .LVU130
 168:mpr121_daisy.cpp ****     uint8_t buffer[1] = {value};
 531              		.loc 1 168 1 is_stmt 0 view .LVU131
 532 0000 10B5     		push	{r4, lr}
 533              		.cfi_def_cfa_offset 8
 534              		.cfi_offset 4, -8
 535              		.cfi_offset 14, -4
 536 0002 86B0     		sub	sp, sp, #24
 537              		.cfi_def_cfa_offset 32
 170:mpr121_daisy.cpp ****     auto res = i2c_handle_.WriteDataAtAddress(i2c_address_, reg, 1, buffer, 1, kTimeout);
 538              		.loc 1 170 46 view .LVU132
 539 0004 0123     		movs	r3, #1
 168:mpr121_daisy.cpp ****     uint8_t buffer[1] = {value};
 540              		.loc 1 168 1 view .LVU133
 541 0006 0446     		mov	r4, r0
 169:mpr121_daisy.cpp ****     uint8_t buffer[1] = {value};
 542              		.loc 1 169 31 view .LVU134
 543 0008 8DF81420 		strb	r2, [sp, #20]
 544              		.loc 1 170 5 is_stmt 1 view .LVU135
 545              		.loc 1 170 46 is_stmt 0 view .LVU136
 546 000c 6422     		movs	r2, #100
 547              	.LVL46:
 548              		.loc 1 170 46 view .LVU137
 549 000e CDE90132 		strd	r3, r2, [sp, #4]
 550 0012 05AA     		add	r2, sp, #20
 551              	.LVL47:
 552              		.loc 1 170 46 view .LVU138
 553 0014 0092     		str	r2, [sp]
 554 0016 0A46     		mov	r2, r1
 555              	.LVL48:
 556              		.loc 1 170 46 view .LVU139
 557 0018 0179     		ldrb	r1, [r0, #4]	@ zero_extendqisi2
 558              	.LVL49:
 559              		.loc 1 170 46 view .LVU140
 560 001a FFF7FEFF 		bl	_ZN5daisy9I2CHandle18WriteDataAtAddressEtttPhtm
 561              	.LVL50:
 171:mpr121_daisy.cpp ****     SetTransportErr(res != daisy::I2CHandle::Result::OK);
 562              		.loc 1 171 5 is_stmt 1 view .LVU141
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 17


 563              	.LBB33:
 564              	.LBI33:
 565              		.loc 2 95 10 view .LVU142
 566              	.LBB34:
 567              		.loc 2 95 38 view .LVU143
 568              		.loc 2 95 55 is_stmt 0 view .LVU144
 569 001e 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 570 0020 0028     		cmp	r0, #0
 571 0022 18BF     		it	ne
 572 0024 43F00103 		orrne	r3, r3, #1
 573 0028 6371     		strb	r3, [r4, #5]
 574              	.LVL51:
 575              		.loc 2 95 55 view .LVU145
 576              	.LBE34:
 577              	.LBE33:
 172:mpr121_daisy.cpp **** }
 578              		.loc 1 172 1 view .LVU146
 579 002a 06B0     		add	sp, sp, #24
 580              		.cfi_def_cfa_offset 8
 581              		@ sp needed
 582 002c 10BD     		pop	{r4, pc}
 583              		.loc 1 172 1 view .LVU147
 584              		.cfi_endproc
 585              	.LFE2668:
 587              		.section	.text._ZN14thaumazein_hal6Mpr12113SetThresholdsEhh,"ax",%progbits
 588              		.align	1
 589              		.global	_ZN14thaumazein_hal6Mpr12113SetThresholdsEhh
 590              		.syntax unified
 591              		.thumb
 592              		.thumb_func
 594              	_ZN14thaumazein_hal6Mpr12113SetThresholdsEhh:
 595              	.LVL52:
 596              	.LFB2665:
 136:mpr121_daisy.cpp ****     WriteRegister(MPR121_ECR, 0x00); // Stop sensor to change settings
 597              		.loc 1 136 1 is_stmt 1 view -0
 598              		.cfi_startproc
 599              		@ args = 0, pretend = 0, frame = 0
 600              		@ frame_needed = 0, uses_anonymous_args = 0
 137:mpr121_daisy.cpp ****     for(uint8_t i = 0; i < 12; i++)
 601              		.loc 1 137 5 view .LVU149
 136:mpr121_daisy.cpp ****     WriteRegister(MPR121_ECR, 0x00); // Stop sensor to change settings
 602              		.loc 1 136 1 is_stmt 0 view .LVU150
 603 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 604              		.cfi_def_cfa_offset 24
 605              		.cfi_offset 3, -24
 606              		.cfi_offset 4, -20
 607              		.cfi_offset 5, -16
 608              		.cfi_offset 6, -12
 609              		.cfi_offset 7, -8
 610              		.cfi_offset 14, -4
 137:mpr121_daisy.cpp ****     for(uint8_t i = 0; i < 12; i++)
 611              		.loc 1 137 18 view .LVU151
 612 0002 4124     		movs	r4, #65
 136:mpr121_daisy.cpp ****     WriteRegister(MPR121_ECR, 0x00); // Stop sensor to change settings
 613              		.loc 1 136 1 view .LVU152
 614 0004 0F46     		mov	r7, r1
 615 0006 1646     		mov	r6, r2
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 18


 137:mpr121_daisy.cpp ****     for(uint8_t i = 0; i < 12; i++)
 616              		.loc 1 137 18 view .LVU153
 617 0008 5E21     		movs	r1, #94
 618              	.LVL53:
 137:mpr121_daisy.cpp ****     for(uint8_t i = 0; i < 12; i++)
 619              		.loc 1 137 18 view .LVU154
 620 000a 0022     		movs	r2, #0
 621              	.LVL54:
 136:mpr121_daisy.cpp ****     WriteRegister(MPR121_ECR, 0x00); // Stop sensor to change settings
 622              		.loc 1 136 1 view .LVU155
 623 000c 0546     		mov	r5, r0
 137:mpr121_daisy.cpp ****     for(uint8_t i = 0; i < 12; i++)
 624              		.loc 1 137 18 view .LVU156
 625 000e FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 626              	.LVL55:
 138:mpr121_daisy.cpp ****     {
 627              		.loc 1 138 5 is_stmt 1 view .LVU157
 628              	.LBB35:
 138:mpr121_daisy.cpp ****     {
 629              		.loc 1 138 26 view .LVU158
 630              	.L30:
 140:mpr121_daisy.cpp ****         WriteRegister(MPR121_RELEASETH_0 + 2 * i, release);
 631              		.loc 1 140 9 discriminator 2 view .LVU159
 140:mpr121_daisy.cpp ****         WriteRegister(MPR121_RELEASETH_0 + 2 * i, release);
 632              		.loc 1 140 22 is_stmt 0 discriminator 2 view .LVU160
 633 0012 2146     		mov	r1, r4
 634 0014 3A46     		mov	r2, r7
 635 0016 2846     		mov	r0, r5
 636 0018 FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 637              	.LVL56:
 141:mpr121_daisy.cpp ****     }
 638              		.loc 1 141 9 is_stmt 1 discriminator 2 view .LVU161
 141:mpr121_daisy.cpp ****     }
 639              		.loc 1 141 22 is_stmt 0 discriminator 2 view .LVU162
 640 001c 611C     		adds	r1, r4, #1
 138:mpr121_daisy.cpp ****     {
 641              		.loc 1 138 26 discriminator 2 view .LVU163
 642 001e 0234     		adds	r4, r4, #2
 141:mpr121_daisy.cpp ****     }
 643              		.loc 1 141 22 discriminator 2 view .LVU164
 644 0020 3246     		mov	r2, r6
 645 0022 C9B2     		uxtb	r1, r1
 646 0024 2846     		mov	r0, r5
 138:mpr121_daisy.cpp ****     {
 647              		.loc 1 138 26 discriminator 2 view .LVU165
 648 0026 E4B2     		uxtb	r4, r4
 141:mpr121_daisy.cpp ****     }
 649              		.loc 1 141 22 discriminator 2 view .LVU166
 650 0028 FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 651              	.LVL57:
 138:mpr121_daisy.cpp ****     {
 652              		.loc 1 138 5 is_stmt 1 discriminator 2 view .LVU167
 138:mpr121_daisy.cpp ****     {
 653              		.loc 1 138 26 discriminator 2 view .LVU168
 654 002c 592C     		cmp	r4, #89
 655 002e F0D1     		bne	.L30
 656              	.LBE35:
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 19


 143:mpr121_daisy.cpp **** }
 657              		.loc 1 143 5 view .LVU169
 143:mpr121_daisy.cpp **** }
 658              		.loc 1 143 18 is_stmt 0 view .LVU170
 659 0030 2846     		mov	r0, r5
 660 0032 8F22     		movs	r2, #143
 661 0034 5E21     		movs	r1, #94
 144:mpr121_daisy.cpp **** 
 662              		.loc 1 144 1 view .LVU171
 663 0036 BDE8F840 		pop	{r3, r4, r5, r6, r7, lr}
 664              		.cfi_restore 14
 665              		.cfi_restore 7
 666              		.cfi_restore 6
 667              		.cfi_restore 5
 668              		.cfi_restore 4
 669              		.cfi_restore 3
 670              		.cfi_def_cfa_offset 0
 671              	.LVL58:
 143:mpr121_daisy.cpp **** }
 672              		.loc 1 143 18 view .LVU172
 673 003a FFF7FEBF 		b	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 674              	.LVL59:
 143:mpr121_daisy.cpp **** }
 675              		.loc 1 143 18 view .LVU173
 676              		.cfi_endproc
 677              	.LFE2665:
 679              		.section	.text._ZN14thaumazein_hal6Mpr1214InitERKNS0_6ConfigE,"ax",%progbits
 680              		.align	1
 681              		.global	_ZN14thaumazein_hal6Mpr1214InitERKNS0_6ConfigE
 682              		.syntax unified
 683              		.thumb
 684              		.thumb_func
 686              	_ZN14thaumazein_hal6Mpr1214InitERKNS0_6ConfigE:
 687              	.LVL60:
 688              	.LFB2659:
   7:mpr121_daisy.cpp ****     // Use 8-bit address (7-bit left-shifted) to match pre-update driver
 689              		.loc 1 7 1 is_stmt 1 view -0
 690              		.cfi_startproc
 691              		@ args = 0, pretend = 0, frame = 0
 692              		@ frame_needed = 0, uses_anonymous_args = 0
  10:mpr121_daisy.cpp **** 
 693              		.loc 1 10 5 view .LVU175
   7:mpr121_daisy.cpp ****     // Use 8-bit address (7-bit left-shifted) to match pre-update driver
 694              		.loc 1 7 1 is_stmt 0 view .LVU176
 695 0000 38B5     		push	{r3, r4, r5, lr}
 696              		.cfi_def_cfa_offset 16
 697              		.cfi_offset 3, -16
 698              		.cfi_offset 4, -12
 699              		.cfi_offset 5, -8
 700              		.cfi_offset 14, -4
  10:mpr121_daisy.cpp **** 
 701              		.loc 1 10 39 view .LVU177
 702 0002 0B7D     		ldrb	r3, [r1, #20]	@ zero_extendqisi2
   7:mpr121_daisy.cpp ****     // Use 8-bit address (7-bit left-shifted) to match pre-update driver
 703              		.loc 1 7 1 view .LVU178
 704 0004 0446     		mov	r4, r0
  13:mpr121_daisy.cpp ****     WriteRegister(MPR121_SOFTRESET, 0x63);
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 20


 705              		.loc 1 13 22 view .LVU179
 706 0006 0025     		movs	r5, #0
  10:mpr121_daisy.cpp **** 
 707              		.loc 1 10 39 view .LVU180
 708 0008 5B00     		lsls	r3, r3, #1
  10:mpr121_daisy.cpp **** 
 709              		.loc 1 10 18 view .LVU181
 710 000a 0371     		strb	r3, [r0, #4]
  12:mpr121_daisy.cpp ****     transport_error_ = false; 
 711              		.loc 1 12 5 is_stmt 1 view .LVU182
  12:mpr121_daisy.cpp ****     transport_error_ = false; 
 712              		.loc 1 12 21 is_stmt 0 view .LVU183
 713 000c FFF7FEFF 		bl	_ZN5daisy9I2CHandle4InitERKNS0_6ConfigE
 714              	.LVL61:
  13:mpr121_daisy.cpp ****     WriteRegister(MPR121_SOFTRESET, 0x63);
 715              		.loc 1 13 5 is_stmt 1 view .LVU184
  14:mpr121_daisy.cpp ****     daisy::System::Delay(1); // Allow time for reset
 716              		.loc 1 14 18 is_stmt 0 view .LVU185
 717 0010 6322     		movs	r2, #99
 718 0012 8021     		movs	r1, #128
 719 0014 2046     		mov	r0, r4
  13:mpr121_daisy.cpp ****     WriteRegister(MPR121_SOFTRESET, 0x63);
 720              		.loc 1 13 22 view .LVU186
 721 0016 6571     		strb	r5, [r4, #5]
  14:mpr121_daisy.cpp ****     daisy::System::Delay(1); // Allow time for reset
 722              		.loc 1 14 5 is_stmt 1 view .LVU187
  14:mpr121_daisy.cpp ****     daisy::System::Delay(1); // Allow time for reset
 723              		.loc 1 14 18 is_stmt 0 view .LVU188
 724 0018 FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 725              	.LVL62:
  15:mpr121_daisy.cpp **** 
 726              		.loc 1 15 5 is_stmt 1 view .LVU189
  15:mpr121_daisy.cpp **** 
 727              		.loc 1 15 25 is_stmt 0 view .LVU190
 728 001c 0120     		movs	r0, #1
 729 001e FFF7FEFF 		bl	_ZN5daisy6System5DelayEm
 730              	.LVL63:
  17:mpr121_daisy.cpp ****     {
 731              		.loc 1 17 5 is_stmt 1 view .LVU191
  17:mpr121_daisy.cpp ****     {
 732              		.loc 1 17 21 is_stmt 0 view .LVU192
 733 0022 5D21     		movs	r1, #93
 734 0024 2046     		mov	r0, r4
 735 0026 FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113ReadRegister8Eh
 736              	.LVL64:
  17:mpr121_daisy.cpp ****     {
 737              		.loc 1 17 5 view .LVU193
 738 002a 2428     		cmp	r0, #36
 739 002c 03D0     		beq	.L33
  19:mpr121_daisy.cpp ****         return false;
 740              		.loc 1 19 9 is_stmt 1 view .LVU194
 741              	.LVL65:
 742              	.LBB36:
 743              	.LBI36:
 744              		.loc 2 95 10 view .LVU195
 745              	.LBB37:
 746              		.loc 2 95 38 view .LVU196
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 21


 747              		.loc 2 95 55 is_stmt 0 view .LVU197
 748 002e 0123     		movs	r3, #1
 749              	.LBE37:
 750              	.LBE36:
  20:mpr121_daisy.cpp ****     }
 751              		.loc 1 20 16 view .LVU198
 752 0030 2846     		mov	r0, r5
 753              	.LBB39:
 754              	.LBB38:
 755              		.loc 2 95 55 view .LVU199
 756 0032 6371     		strb	r3, [r4, #5]
 757              	.LVL66:
 758              		.loc 2 95 55 view .LVU200
 759              	.LBE38:
 760              	.LBE39:
  20:mpr121_daisy.cpp ****     }
 761              		.loc 1 20 9 is_stmt 1 view .LVU201
 762              	.L34:
  51:mpr121_daisy.cpp **** 
 763              		.loc 1 51 1 is_stmt 0 view .LVU202
 764 0034 38BD     		pop	{r3, r4, r5, pc}
 765              	.LVL67:
 766              	.L33:
  24:mpr121_daisy.cpp **** 
 767              		.loc 1 24 5 is_stmt 1 view .LVU203
  24:mpr121_daisy.cpp **** 
 768              		.loc 1 24 18 is_stmt 0 view .LVU204
 769 0036 2A46     		mov	r2, r5
 770 0038 5E21     		movs	r1, #94
 771 003a 2046     		mov	r0, r4
 772 003c FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 773              	.LVL68:
  26:mpr121_daisy.cpp **** 
 774              		.loc 1 26 5 is_stmt 1 view .LVU205
  26:mpr121_daisy.cpp **** 
 775              		.loc 1 26 18 is_stmt 0 view .LVU206
 776 0040 0422     		movs	r2, #4
 777 0042 0821     		movs	r1, #8
 778 0044 2046     		mov	r0, r4
 779 0046 FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113SetThresholdsEhh
 780              	.LVL69:
  29:mpr121_daisy.cpp ****     WriteRegister(MPR121_NHDR, 0x03);
 781              		.loc 1 29 5 is_stmt 1 view .LVU207
  29:mpr121_daisy.cpp ****     WriteRegister(MPR121_NHDR, 0x03);
 782              		.loc 1 29 18 is_stmt 0 view .LVU208
 783 004a 0122     		movs	r2, #1
 784 004c 2B21     		movs	r1, #43
 785 004e 2046     		mov	r0, r4
 786 0050 FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 787              	.LVL70:
  30:mpr121_daisy.cpp ****     WriteRegister(MPR121_NCLR, 0x10);
 788              		.loc 1 30 5 is_stmt 1 view .LVU209
  30:mpr121_daisy.cpp ****     WriteRegister(MPR121_NCLR, 0x10);
 789              		.loc 1 30 18 is_stmt 0 view .LVU210
 790 0054 0322     		movs	r2, #3
 791 0056 2C21     		movs	r1, #44
 792 0058 2046     		mov	r0, r4
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 22


 793 005a FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 794              	.LVL71:
  31:mpr121_daisy.cpp ****     WriteRegister(MPR121_FDLR, 0x20);
 795              		.loc 1 31 5 is_stmt 1 view .LVU211
  31:mpr121_daisy.cpp ****     WriteRegister(MPR121_FDLR, 0x20);
 796              		.loc 1 31 18 is_stmt 0 view .LVU212
 797 005e 1022     		movs	r2, #16
 798 0060 2D21     		movs	r1, #45
 799 0062 2046     		mov	r0, r4
 800 0064 FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 801              	.LVL72:
  32:mpr121_daisy.cpp **** 
 802              		.loc 1 32 5 is_stmt 1 view .LVU213
  32:mpr121_daisy.cpp **** 
 803              		.loc 1 32 18 is_stmt 0 view .LVU214
 804 0068 2022     		movs	r2, #32
 805 006a 2E21     		movs	r1, #46
 806 006c 2046     		mov	r0, r4
 807 006e FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 808              	.LVL73:
  34:mpr121_daisy.cpp ****     WriteRegister(MPR121_NHDF, 0x03);
 809              		.loc 1 34 5 is_stmt 1 view .LVU215
  34:mpr121_daisy.cpp ****     WriteRegister(MPR121_NHDF, 0x03);
 810              		.loc 1 34 18 is_stmt 0 view .LVU216
 811 0072 0122     		movs	r2, #1
 812 0074 2F21     		movs	r1, #47
 813 0076 2046     		mov	r0, r4
 814 0078 FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 815              	.LVL74:
  35:mpr121_daisy.cpp ****     WriteRegister(MPR121_NCLF, 0x10);
 816              		.loc 1 35 5 is_stmt 1 view .LVU217
  35:mpr121_daisy.cpp ****     WriteRegister(MPR121_NCLF, 0x10);
 817              		.loc 1 35 18 is_stmt 0 view .LVU218
 818 007c 0322     		movs	r2, #3
 819 007e 3021     		movs	r1, #48
 820 0080 2046     		mov	r0, r4
 821 0082 FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 822              	.LVL75:
  36:mpr121_daisy.cpp ****     WriteRegister(MPR121_FDLF, 0x20);
 823              		.loc 1 36 5 is_stmt 1 view .LVU219
  36:mpr121_daisy.cpp ****     WriteRegister(MPR121_FDLF, 0x20);
 824              		.loc 1 36 18 is_stmt 0 view .LVU220
 825 0086 1022     		movs	r2, #16
 826 0088 3121     		movs	r1, #49
 827 008a 2046     		mov	r0, r4
 828 008c FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 829              	.LVL76:
  37:mpr121_daisy.cpp **** 
 830              		.loc 1 37 5 is_stmt 1 view .LVU221
  37:mpr121_daisy.cpp **** 
 831              		.loc 1 37 18 is_stmt 0 view .LVU222
 832 0090 2022     		movs	r2, #32
 833 0092 3221     		movs	r1, #50
 834 0094 2046     		mov	r0, r4
 835 0096 FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 836              	.LVL77:
  39:mpr121_daisy.cpp ****     WriteRegister(MPR121_NCLT, 0x05);
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 23


 837              		.loc 1 39 5 is_stmt 1 view .LVU223
  39:mpr121_daisy.cpp ****     WriteRegister(MPR121_NCLT, 0x05);
 838              		.loc 1 39 18 is_stmt 0 view .LVU224
 839 009a 0122     		movs	r2, #1
 840 009c 3321     		movs	r1, #51
 841 009e 2046     		mov	r0, r4
 842 00a0 FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 843              	.LVL78:
  40:mpr121_daisy.cpp ****     WriteRegister(MPR121_FDLT, 0x00);
 844              		.loc 1 40 5 is_stmt 1 view .LVU225
  40:mpr121_daisy.cpp ****     WriteRegister(MPR121_FDLT, 0x00);
 845              		.loc 1 40 18 is_stmt 0 view .LVU226
 846 00a4 0522     		movs	r2, #5
 847 00a6 3421     		movs	r1, #52
 848 00a8 2046     		mov	r0, r4
 849 00aa FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 850              	.LVL79:
  41:mpr121_daisy.cpp **** 
 851              		.loc 1 41 5 is_stmt 1 view .LVU227
  41:mpr121_daisy.cpp **** 
 852              		.loc 1 41 18 is_stmt 0 view .LVU228
 853 00ae 2A46     		mov	r2, r5
 854 00b0 3521     		movs	r1, #53
 855 00b2 2046     		mov	r0, r4
 856 00b4 FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 857              	.LVL80:
  43:mpr121_daisy.cpp ****     WriteRegister(MPR121_CONFIG1, 0x3F);
 858              		.loc 1 43 5 is_stmt 1 view .LVU229
  43:mpr121_daisy.cpp ****     WriteRegister(MPR121_CONFIG1, 0x3F);
 859              		.loc 1 43 18 is_stmt 0 view .LVU230
 860 00b8 2222     		movs	r2, #34
 861 00ba 5B21     		movs	r1, #91
 862 00bc 2046     		mov	r0, r4
 863 00be FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 864              	.LVL81:
  44:mpr121_daisy.cpp ****     WriteRegister(MPR121_CONFIG2, 0x00);
 865              		.loc 1 44 5 is_stmt 1 view .LVU231
  44:mpr121_daisy.cpp ****     WriteRegister(MPR121_CONFIG2, 0x00);
 866              		.loc 1 44 18 is_stmt 0 view .LVU232
 867 00c2 3F22     		movs	r2, #63
 868 00c4 5C21     		movs	r1, #92
 869 00c6 2046     		mov	r0, r4
 870 00c8 FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 871              	.LVL82:
  45:mpr121_daisy.cpp **** 
 872              		.loc 1 45 5 is_stmt 1 view .LVU233
  45:mpr121_daisy.cpp **** 
 873              		.loc 1 45 18 is_stmt 0 view .LVU234
 874 00cc 2A46     		mov	r2, r5
 875 00ce 5D21     		movs	r1, #93
 876 00d0 2046     		mov	r0, r4
 877 00d2 FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 878              	.LVL83:
  48:mpr121_daisy.cpp **** 
 879              		.loc 1 48 5 is_stmt 1 view .LVU235
  48:mpr121_daisy.cpp **** 
 880              		.loc 1 48 18 is_stmt 0 view .LVU236
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 24


 881 00d6 2046     		mov	r0, r4
 882 00d8 8F22     		movs	r2, #143
 883 00da 5E21     		movs	r1, #94
 884 00dc FFF7FEFF 		bl	_ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
 885              	.LVL84:
  50:mpr121_daisy.cpp **** }
 886              		.loc 1 50 5 is_stmt 1 view .LVU237
  50:mpr121_daisy.cpp **** }
 887              		.loc 1 50 13 is_stmt 0 view .LVU238
 888 00e0 6079     		ldrb	r0, [r4, #5]	@ zero_extendqisi2
 889 00e2 80F00100 		eor	r0, r0, #1
 890 00e6 A5E7     		b	.L34
 891              		.cfi_endproc
 892              	.LFE2659:
 894              		.section	.text._ZNK14thaumazein_hal6Mpr1218HasErrorEv,"ax",%progbits
 895              		.align	1
 896              		.global	_ZNK14thaumazein_hal6Mpr1218HasErrorEv
 897              		.syntax unified
 898              		.thumb
 899              		.thumb_func
 901              	_ZNK14thaumazein_hal6Mpr1218HasErrorEv:
 902              	.LVL85:
 903              	.LFB2669:
 173:mpr121_daisy.cpp **** 
 174:mpr121_daisy.cpp **** bool thaumazein_hal::Mpr121::HasError() const { return transport_error_; }
 904              		.loc 1 174 47 is_stmt 1 view -0
 905              		.cfi_startproc
 906              		@ args = 0, pretend = 0, frame = 0
 907              		@ frame_needed = 0, uses_anonymous_args = 0
 908              		@ link register save eliminated.
 909              		.loc 1 174 49 view .LVU240
 910              		.loc 1 174 74 is_stmt 0 view .LVU241
 911 0000 4079     		ldrb	r0, [r0, #5]	@ zero_extendqisi2
 912              	.LVL86:
 913              		.loc 1 174 74 view .LVU242
 914 0002 7047     		bx	lr
 915              		.cfi_endproc
 916              	.LFE2669:
 918              		.section	.text._ZN14thaumazein_hal6Mpr12110ClearErrorEv,"ax",%progbits
 919              		.align	1
 920              		.global	_ZN14thaumazein_hal6Mpr12110ClearErrorEv
 921              		.syntax unified
 922              		.thumb
 923              		.thumb_func
 925              	_ZN14thaumazein_hal6Mpr12110ClearErrorEv:
 926              	.LVL87:
 927              	.LFB2670:
 175:mpr121_daisy.cpp **** 
 176:mpr121_daisy.cpp **** void thaumazein_hal::Mpr121::ClearError() { transport_error_ = false; } ...
 928              		.loc 1 176 43 is_stmt 1 view -0
 929              		.cfi_startproc
 930              		@ args = 0, pretend = 0, frame = 0
 931              		@ frame_needed = 0, uses_anonymous_args = 0
 932              		@ link register save eliminated.
 933              		.loc 1 176 45 view .LVU244
 934              		.loc 1 176 62 is_stmt 0 view .LVU245
 935 0000 0023     		movs	r3, #0
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 25


 936 0002 4371     		strb	r3, [r0, #5]
 937              		.loc 1 176 71 view .LVU246
 938 0004 7047     		bx	lr
 939              		.cfi_endproc
 940              	.LFE2670:
 942              		.text
 943              	.Letext0:
 944              		.file 3 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/machine/_default_types.h"
 945              		.file 4 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/_stdint.h"
 946              		.file 5 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdint.h"
 947              		.file 6 "/Library/DaisyToolchain/0.2.0/arm/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 948              		.file 7 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cmath"
 949              		.file 8 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/std_abs.h"
 950              		.file 9 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdlib"
 951              		.file 10 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdint"
 952              		.file 11 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/type_traits"
 953              		.file 12 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/debug/debug.h"
 954              		.file 13 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/arm-none-eabi/thumb/v
 955              		.file 14 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/algorithmfwd.h"
 956              		.file 15 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/stl_pair.h"
 957              		.file 16 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/exception_ptr.h"
 958              		.file 17 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdarg"
 959              		.file 18 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdio"
 960              		.file 19 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstring"
 961              		.file 20 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/predefined_ops.h
 962              		.file 21 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/_types.h"
 963              		.file 22 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/reent.h"
 964              		.file 23 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/lock.h"
 965              		.file 24 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/math.h"
 966              		.file 25 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdlib.h"
 967              		.file 26 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/math.h"
 968              		.file 27 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/stdlib.h"
 969              		.file 28 "lib/libdaisy/src/daisy_core.h"
 970              		.file 29 "lib/libdaisy/src/per/tim.h"
 971              		.file 30 "lib/libdaisy/src/sys/system.h"
 972              		.file 31 "lib/libdaisy/src/per/i2c.h"
 973              		.file 32 "lib/libdaisy/src/util/wav_format.h"
 974              		.file 33 "lib/libdaisy/src/dev/sr_595.h"
 975              		.file 34 "lib/libdaisy/src/dev/max11300.h"
 976              		.file 35 "lib/libdaisy/src/daisy_seed.h"
 977              		.file 36 "/Library/DaisyToolchain/0.2.0/arm/lib/gcc/arm-none-eabi/10.3.1/include/stdarg.h"
 978              		.file 37 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdio.h"
 979              		.file 38 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/string.h"
 980              		.file 39 "<built-in>"
ARM GAS  /var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s 			page 26


DEFINED SYMBOLS
                            *ABS*:0000000000000000 mpr121_daisy.cpp
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:19     .text._ZN14thaumazein_hal6Mpr12113ReadRegister8Eh:0000000000000000 $t
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:25     .text._ZN14thaumazein_hal6Mpr12113ReadRegister8Eh:0000000000000000 _ZN14thaumazein_hal6Mpr12113ReadRegister8Eh
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:99     .text._ZN14thaumazein_hal6Mpr12112BaselineDataEh:0000000000000000 $t
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:105    .text._ZN14thaumazein_hal6Mpr12112BaselineDataEh:0000000000000000 _ZN14thaumazein_hal6Mpr12112BaselineDataEh
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:142    .text._ZN14thaumazein_hal6Mpr12114ReadRegister16Eh:0000000000000000 $t
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:148    .text._ZN14thaumazein_hal6Mpr12114ReadRegister16Eh:0000000000000000 _ZN14thaumazein_hal6Mpr12114ReadRegister16Eh
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:224    .text._ZN14thaumazein_hal6Mpr1217TouchedEv:0000000000000000 $t
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:230    .text._ZN14thaumazein_hal6Mpr1217TouchedEv:0000000000000000 _ZN14thaumazein_hal6Mpr1217TouchedEv
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:248    .text._ZN14thaumazein_hal6Mpr12112FilteredDataEh:0000000000000000 $t
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:254    .text._ZN14thaumazein_hal6Mpr12112FilteredDataEh:0000000000000000 _ZN14thaumazein_hal6Mpr12112FilteredDataEh
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:292    .text._ZN14thaumazein_hal6Mpr12120GetBaselineDeviationEh:0000000000000000 $t
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:298    .text._ZN14thaumazein_hal6Mpr12120GetBaselineDeviationEh:0000000000000000 _ZN14thaumazein_hal6Mpr12120GetBaselineDeviationEh
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:353    .text._ZN14thaumazein_hal6Mpr12117GetProximityValueEtf:0000000000000000 $t
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:359    .text._ZN14thaumazein_hal6Mpr12117GetProximityValueEtf:0000000000000000 _ZN14thaumazein_hal6Mpr12117GetProximityValueEtf
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:511    .text._ZN14thaumazein_hal6Mpr12117GetProximityValueEtf:0000000000000098 $d
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:517    .text._ZN14thaumazein_hal6Mpr12113WriteRegisterEhh:0000000000000000 $t
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:523    .text._ZN14thaumazein_hal6Mpr12113WriteRegisterEhh:0000000000000000 _ZN14thaumazein_hal6Mpr12113WriteRegisterEhh
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:588    .text._ZN14thaumazein_hal6Mpr12113SetThresholdsEhh:0000000000000000 $t
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:594    .text._ZN14thaumazein_hal6Mpr12113SetThresholdsEhh:0000000000000000 _ZN14thaumazein_hal6Mpr12113SetThresholdsEhh
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:680    .text._ZN14thaumazein_hal6Mpr1214InitERKNS0_6ConfigE:0000000000000000 $t
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:686    .text._ZN14thaumazein_hal6Mpr1214InitERKNS0_6ConfigE:0000000000000000 _ZN14thaumazein_hal6Mpr1214InitERKNS0_6ConfigE
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:895    .text._ZNK14thaumazein_hal6Mpr1218HasErrorEv:0000000000000000 $t
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:901    .text._ZNK14thaumazein_hal6Mpr1218HasErrorEv:0000000000000000 _ZNK14thaumazein_hal6Mpr1218HasErrorEv
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:919    .text._ZN14thaumazein_hal6Mpr12110ClearErrorEv:0000000000000000 $t
/var/folders/9s/8rp0_f2s1n31qbztm3b5_fdh0000gn/T//cc8FZYr3.s:925    .text._ZN14thaumazein_hal6Mpr12110ClearErrorEv:0000000000000000 _ZN14thaumazein_hal6Mpr12110ClearErrorEv

UNDEFINED SYMBOLS
_ZN5daisy9I2CHandle17ReadDataAtAddressEtttPhtm
_ZN5daisy9I2CHandle18WriteDataAtAddressEtttPhtm
_ZN5daisy9I2CHandle4InitERKNS0_6ConfigE
_ZN5daisy6System5DelayEm
